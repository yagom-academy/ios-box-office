# ë°•ìŠ¤ ì˜¤í”¼ìŠ¤ ğŸ¥

> ì†Œê°œ: ì˜í™”ì§„í¥ìœ„ì›íšŒì˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë“¤ì„ í‘œì‹œí•˜ëŠ” ì–´í”Œ

</br>

## ëª©ì°¨
1. [íŒ€ì›](#1-íŒ€ì›)
2. [íƒ€ì„ë¼ì¸](#2-íƒ€ì„ë¼ì¸)
3. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#3-í”„ë¡œì íŠ¸-êµ¬ì¡°)
4. [ì‹¤í–‰í™”ë©´](#4-ì‹¤í–‰-í™”ë©´)
5. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#5-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
6. [ì°¸ê³ ë§í¬](#6-ì°¸ê³ -ë§í¬)

<br>

## 1. íŒ€ì›

|[vetto](https://github.com/gzzjk159) | [Brody](https://github.com/seunghyunCheon)|
| :--------: | :--------: |
|<img height="180px" width="180" src="https://cdn.discordapp.com/attachments/535779947118329866/1055718870951940146/1671110054020-0.jpg"> | <img height="180px" width="200" src="https://i.imgur.com/fPPz155.jpg">|


<br>

## 2. íƒ€ì„ë¼ì¸
### í”„ë¡œì íŠ¸ ì§„í–‰ ê¸°ê°„
**23.03.20 (ì›”) ~ 23.03.31 (ê¸ˆ)** 

| ë‚ ì§œ | íƒ€ì„ë¼ì¸ |
| --- | --- |
|23.03.20 (ì›”)| BoxOffice, DailyBoxOfficeëª¨ë¸ êµ¬í˜„, BoxOfficeJsonDecoder êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ì‘ì„± |
|23.03.21 (í™”)| NetworkManager, BoxOfficeAPI, MovieInformation, MovieDetail Infomationëª¨ë¸ êµ¬í˜„ ë° Mockê°ì²´ë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„± |
|23.03.22 (ìˆ˜)| Modern Collection View í•™ìŠµ |
|23.03.23 (ëª©)| Modern Cell API(ContentConfiguration) í•™ìŠµ|
|23.03.24 (ê¸ˆ)| URL ë§Œë“œëŠ” ê¸°ëŠ¥ì— Http method ì¶”ê°€|

<br>

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°

<details>
    <summary><big>í´ë” êµ¬ì¡°</big></big></summary>

### BoxOffice
```swift
BoxOffice
â”œâ”€â”€ BoxOffice
â”‚   â”œâ”€â”€ Application
â”‚   â”‚   â”œâ”€â”€ AppDelegate.swift
â”‚   â”‚   â””â”€â”€ SceneDelegate.swift
â”‚   â”œâ”€â”€ Error
â”‚   â”‚   â”œâ”€â”€ DataAssetError.swift
â”‚   â”‚   â””â”€â”€ NetworkError.swift
â”‚   â”œâ”€â”€ Info.plist
â”‚   â”œâ”€â”€ Model
â”‚   â”‚   â”œâ”€â”€ BoxOffice.swift
â”‚   â”‚   â”œâ”€â”€ BoxOfficeAPI.swift
â”‚   â”‚   â”œâ”€â”€ BoxOfficeJsonDecoder.swift
â”‚   â”‚   â”œâ”€â”€ DailyBoxOffice.swift
â”‚   â”‚   â”œâ”€â”€ MovieDetailInformation.swift
â”‚   â”‚   â””â”€â”€ MovieInformation.swift
â”‚   â”œâ”€â”€ Network
â”‚   â”‚   â”œâ”€â”€ NetworkManager.swift
â”‚   â”‚   â”œâ”€â”€ URLSessionDataTaskProtocol.swift
â”‚   â”‚   â””â”€â”€ URLSessionProtocol.swift
â”‚   â”œâ”€â”€ Resources
â”‚   â”‚   â”œâ”€â”€ Assets.xcassets
â”‚   â”‚   â””â”€â”€ LaunchScreen.storyboard
â”‚   â”œâ”€â”€ View
â”‚   â”‚   â””â”€â”€ Main.storyboard
â”‚   â””â”€â”€ ViewController
â”‚       â””â”€â”€ BoxOfficeViewController.swift
â”œâ”€â”€ BoxOfficeJsonDecoderTests
â”‚   â””â”€â”€ BoxOfficeJsonDecoderTests.swift
â””â”€â”€ NetworkManagerTests
    â”œâ”€â”€ JsonLoader.swift
    â”œâ”€â”€ MockURLSession.swift
    â”œâ”€â”€ MockURLSessionDataTask.swift
    â””â”€â”€ NetworkManagerTests.swift
```

</details>

</br>

<details>
    <summary><big>UML</big></big></summary>
    
STEP3ì´í›„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤!

</details>

</br>


## 4. ì‹¤í–‰ í™”ë©´
STEP3ì´í›„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤!




</br>

## 5. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1ï¸âƒ£ parsingí•œ ë°ì´í„° ìœ ë‹›í…ŒìŠ¤íŠ¸
jsonì˜ ë‹´ê¸´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ jsonDecoderë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì˜€ìŠµë‹ˆë‹¤. ì •í™•í•œ ë¹„êµë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” ì˜ˆìƒí•œ ë°ì´í„°ë“¤ê³¼ íŒŒì‹±í•œ ë°ì´í„°ë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ë¹„êµí•´ì•¼í•˜ëŠ”ë° ê·¸ë ‡ê²Œ í•˜ëŠ” ê²ƒì€ ë°ì´í„°ì˜ ì–‘ì´ ë„ˆë¬´ ë§ì•„ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ì½”ë“œê°€ ê¸°ì¡´ì˜ ì½”ë“œë³´ë‹¤ ê¸¸ì–´ì§„ë‹¤ëŠ” ê²ƒê³¼ ì½”ë“œê°€ ê¸¸ì–´ì§€ë©´ì„œ íœ´ë¨¼ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ê²ƒì„ ì •í™•íˆ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ ì•„ë‹ˆì§€ë§Œ ì¼ë¶€ì˜ ë°ì´í„°ë¥¼ ë¹„êµí–ˆì„ ë•Œ ë°ì´í„°ë“¤ì´ ì¼ì¹˜í•œë‹¤ê³  í•˜ë©´ íŒŒì‹±í•œ ë°ì´í„°ê°€ ì „ë¶€ ì¼ì¹˜í•œë‹¤ê³  ìƒê°í•˜ì—¬ ì¼ë¶€ë§Œ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
    // given
        let assetName = "box_office_sample"
        let expectedBoxOfficeType = "ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤"
        let expectedFirstMovieName = "ê²½ê´€ì˜ í”¼"
        
    // when, then
        do {
            let result = try sut.loadJsonData(name: assetName, type: BoxOffice.self)
            XCTAssertEqual(expectedBoxOfficeType, result.boxOfficeResult.boxOfficeType)
            XCTAssertEqual(
                expectedFirstMovieName,
                result.boxOfficeResult.dailyBoxOfficeList[0].movieName
            )
        } catch {
            XCTFail("The loadJsonData was not supposed to throw an Error")
        }
```

### 2ï¸âƒ£ URL Endpointê´€ë¦¬
apië¥¼ í˜¸ì¶œí•  ë•Œ í•˜ë“œì½”ë”© ëœ urlì„ í†µì§¸ë¡œ ë„£ì–´ì„œ ìš”ì²­í–ˆìŠµë‹ˆë‹¤. 
í•˜ì§€ë§Œ ì´ëŠ” urlì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš°ì— ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ë°œìƒí•˜ê¸°ì— URLì„ ë§Œë“¤ì–´ì£¼ëŠ” ê°ì²´ê°€ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

* ### BoxOfficeAPIì˜ ì‚¬ìš©
```swift
enum BoxOfficeAPI {
    case dailyBoxOffice(date: String)
    case detailMovieInformation(movieCode: String)
    
    static let baseURL = "http://kobis.or.kr/kobisopenapi/webservice/rest/"
    
    static func makeForEndpoint(_ endpoint: String) -> URL? {
        guard let url = URL(string: baseURL + endpoint) else {
            return nil
        }
        
        return url
    }
}
```
caseë³„ë¡œ ë¶„ë¥˜í•˜ê³  ì¿¼ë¦¬íŒŒë¼ë¯¸í„°ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë°›ì•„ `ë„ë©”ì¸+ê²½ë¡œ+apií‚¤+ì—”ë“œí¬ì¸íŠ¸`ì— í•´ë‹¹í•˜ëŠ” URLì„ ë°˜í™˜í•˜ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 

í•˜ì§€ë§Œ ì´ ê²½ìš° í˜„ì¬ ìš”ì²­í•˜ëŠ” URLì˜ HttpMethodëŠ” ëª…ì‹œë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ì™€ ê°™ì€ í—¤ë”ë¶€ë¶„ ë˜í•œ ë„£ì–´ì¤˜ì„œ URLReqeustë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•´ì£¼ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.




<br>

## 6. ì°¸ê³  ë§í¬
- [Apple Docs - URLSession](https://developer.apple.com/documentation/foundation/urlsession)
- [Apple Article - Fetching Website Data into Memory](https://developer.apple.com/documentation/foundation/url_loading_system/fetching_website_data_into_memory)
- [Closure](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/closures/)
- [ìš°ì•„í•œ í˜•ì œë“¤ - iOS Networking and Testing](https://techblog.woowahan.com/2704/)
- [ë„¤íŠ¸ì›Œí¬ì™€ ë¬´ê´€í•œ URLSession Unit Test](https://wody.tistory.com/10)
- [mock ì´ìš©í•œ URLSession Unit Test](https://sujinnaljin.medium.com/swift-mock-%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-network-unit-test-%ED%95%98%EA%B8%B0-a69570defb41)
- [info.plist apií‚¤ ê°€ë¦¬ê¸°](https://velog.io/@loopbackseal/Swift-Plist%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4%EC%84%9C-API-key%EB%AF%BC%EA%B0%90%EC%A0%95%EB%B3%B4-%EA%B0%80%EB%A6%AC%EA%B8%B0)
---
